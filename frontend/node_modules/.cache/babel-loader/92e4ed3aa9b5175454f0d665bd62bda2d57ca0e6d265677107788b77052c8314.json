{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Home\\\\Desktop\\\\llama-qa\\\\frontend\\\\src\\\\components\\\\uploadPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Upload, Button, Typography, Spin, Descriptions, message, Alert } from 'antd';\nimport { UploadOutlined, CheckCircleOutlined, DeleteOutlined } from '@ant-design/icons';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Title,\n  Text,\n  Paragraph\n} = Typography;\nconst UploadPage = () => {\n  _s();\n  const [fileList, setFileList] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [indexing, setIndexing] = useState(false);\n  const [answerLoading, setAnswerLoading] = useState(false); // ⬅️ NEW\n  const [indexReady, setIndexReady] = useState(false);\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const handleChange = info => {\n    setFileList(info.fileList.map(file => ({\n      ...file,\n      formattedSize: formatFileSize(file.size || 0)\n    })));\n    setIndexReady(false);\n  };\n  const handleRemove = () => {\n    setFileList([]);\n    setUploadedFile(null);\n    setIndexReady(false);\n  };\n  const handleClearAll = async () => {\n    try {\n      await axios.delete('http://localhost:8000/delete');\n      message.success('All files and index cleared.');\n      setFileList([]);\n      setUploadedFile(null);\n      setIndexReady(false);\n    } catch (error) {\n      message.error('Failed to clear files/index.');\n      console.error('Clear error:', error);\n    }\n  };\n  const handleUploadAndIndex = async () => {\n    if (fileList.length === 0) {\n      message.warning('Please select a file first!');\n      return;\n    }\n    const file = fileList[0];\n    const formData = new FormData();\n    formData.append('file', file.originFileObj);\n    setUploading(true);\n    try {\n      const uploadResponse = await axios.post('http://localhost:8000/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      if (uploadResponse.data.status === 'success') {\n        message.success('File uploaded successfully!');\n        setUploadedFile({\n          uid: file.uid,\n          name: file.name || 'Unknown',\n          size: file.size || 0,\n          type: file.type || 'Unknown',\n          url: uploadResponse.data.file_path,\n          formattedSize: formatFileSize(file.size || 0)\n        });\n        setIndexing(true);\n        try {\n          const indexResponse = await axios.post('http://localhost:8000/index');\n          if (indexResponse.data.status === 'success') {\n            message.success('Document indexed successfully!');\n            setIndexReady(true);\n          }\n        } catch (indexError) {\n          message.error('Indexing failed. Please try again.');\n          console.error('Indexing error:', indexError);\n        } finally {\n          setIndexing(false);\n        }\n      }\n    } catch (uploadError) {\n      message.error('Upload failed. Please try again.');\n      console.error('Upload error:', uploadError);\n    } finally {\n      setUploading(false);\n    }\n  };\n  const getFileExtension = filename => {\n    return filename.split('.').pop();\n  };\n  const formatFileSize = bytes => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    const size = (bytes / Math.pow(k, i)).toFixed(2);\n    return `${size} ${sizes[i]}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '24px',\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      level: 3,\n      children: \"Upload Document\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paragraph, {\n      style: {\n        fontSize: '16px',\n        color: '#595959',\n        maxWidth: 720,\n        marginBottom: 24\n      },\n      children: [\"Welcome! This system allows you to upload your document and automatically index it so you can interact with the content. Supported formats include \", /*#__PURE__*/_jsxDEV(Text, {\n        code: true,\n        children: \".pdf\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 35\n      }, this), \", \", /*#__PURE__*/_jsxDEV(Text, {\n        code: true,\n        children: \".doc\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 59\n      }, this), \", \", /*#__PURE__*/_jsxDEV(Text, {\n        code: true,\n        children: \".docx\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 83\n      }, this), \", and \", /*#__PURE__*/_jsxDEV(Text, {\n        code: true,\n        children: \".txt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 112\n      }, this), \". Once uploaded and indexed, you'll be able to ask questions about the document in real time.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Upload, {\n      beforeUpload: () => false,\n      onChange: handleChange,\n      fileList: fileList,\n      maxCount: 1,\n      accept: \".pdf,.doc,.docx,.txt\",\n      disabled: uploading || indexing || answerLoading,\n      itemRender: (originNode, file) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          padding: '8px',\n          border: '1px solid #f0f0f0',\n          borderRadius: '4px',\n          marginTop: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: file.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            type: \"secondary\",\n            style: {\n              marginLeft: 8\n            },\n            children: file.formattedSize || formatFileSize(file.size || 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"text\",\n          danger: true,\n          size: \"small\",\n          onClick: handleRemove,\n          disabled: uploading || indexing || uploadedFile !== null || answerLoading,\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        icon: /*#__PURE__*/_jsxDEV(UploadOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 23\n        }, this),\n        disabled: uploading || indexing || answerLoading,\n        children: \"Select File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), fileList.length > 0 && !uploadedFile && /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: handleUploadAndIndex,\n      disabled: uploading || indexing || answerLoading,\n      loading: uploading,\n      style: {\n        marginTop: 16\n      },\n      children: uploading ? 'Uploading...' : 'Upload & Index'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }, this), uploadedFile && /*#__PURE__*/_jsxDEV(Button, {\n      danger: true,\n      type: \"default\",\n      icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this),\n      onClick: handleClearAll,\n      disabled: uploading || indexing || answerLoading // Freeze the button when answer is loading\n      ,\n      style: {\n        marginTop: 16\n      },\n      children: \"Clear All\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }, this), (uploading || indexing) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 24,\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Spin, {\n        tip: uploading ? 'Uploading your file...' : 'Indexing document...',\n        size: \"large\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '50px',\n            background: 'rgba(0, 0, 0, 0.05)',\n            borderRadius: '4px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }, this), !uploading && !indexing && uploadedFile && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Descriptions, {\n        title: \"Uploaded File Details\",\n        bordered: true,\n        column: 1,\n        size: \"small\",\n        style: {\n          marginTop: 24\n        },\n        children: [/*#__PURE__*/_jsxDEV(Descriptions.Item, {\n          label: \"File Name\",\n          children: uploadedFile.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n          label: \"Extension\",\n          children: getFileExtension(uploadedFile.name)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n          label: \"Type\",\n          children: uploadedFile.type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n          label: \"Size\",\n          children: uploadedFile.formattedSize\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this), indexReady && /*#__PURE__*/_jsxDEV(Alert, {\n        message: \"Ready to chat with your document!\",\n        type: \"success\",\n        showIcon: true,\n        icon: /*#__PURE__*/_jsxDEV(CheckCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 21\n        }, this),\n        style: {\n          marginTop: 16\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), answerLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        backgroundColor: 'rgba(255, 255, 255, 0.6)',\n        zIndex: 9999,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Spin, {\n        tip: \"Loading answer...\",\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n};\n_s(UploadPage, \"qdj6J96CtPBynxSgUWKdnGbt7vw=\");\n_c = UploadPage;\nexport default UploadPage;\nvar _c;\n$RefreshReg$(_c, \"UploadPage\");","map":{"version":3,"names":["React","useState","Upload","Button","Typography","Spin","Descriptions","message","Alert","UploadOutlined","CheckCircleOutlined","DeleteOutlined","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Title","Text","Paragraph","UploadPage","_s","fileList","setFileList","uploading","setUploading","indexing","setIndexing","answerLoading","setAnswerLoading","indexReady","setIndexReady","uploadedFile","setUploadedFile","handleChange","info","map","file","formattedSize","formatFileSize","size","handleRemove","handleClearAll","delete","success","error","console","handleUploadAndIndex","length","warning","formData","FormData","append","originFileObj","uploadResponse","post","headers","data","status","uid","name","type","url","file_path","indexResponse","indexError","uploadError","getFileExtension","filename","split","pop","bytes","k","sizes","i","Math","floor","log","pow","toFixed","style","padding","height","display","flexDirection","position","children","level","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","color","maxWidth","marginBottom","code","beforeUpload","onChange","maxCount","accept","disabled","itemRender","originNode","justifyContent","alignItems","border","borderRadius","marginTop","marginLeft","danger","onClick","icon","loading","textAlign","tip","background","title","bordered","column","Item","label","showIcon","top","left","width","backgroundColor","zIndex","_c","$RefreshReg$"],"sources":["C:/Users/Home/Desktop/llama-qa/frontend/src/components/uploadPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Upload, Button, Typography, Spin, Descriptions, message, Alert } from 'antd';\r\nimport { UploadOutlined, CheckCircleOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport type { UploadFile } from 'antd/es/upload/interface';\r\nimport axios from 'axios';\r\n\r\nconst { Title, Text, Paragraph } = Typography;\r\n\r\nconst UploadPage: React.FC = () => {\r\n  const [fileList, setFileList] = useState<UploadFile[]>([]);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [indexing, setIndexing] = useState(false);\r\n  const [answerLoading, setAnswerLoading] = useState(false); // ⬅️ NEW\r\n  const [indexReady, setIndexReady] = useState(false);\r\n  const [uploadedFile, setUploadedFile] = useState<{\r\n    uid: string;\r\n    name: string;\r\n    size: number;\r\n    type: string;\r\n    url?: string;\r\n    formattedSize?: string;\r\n  } | null>(null);\r\n\r\n  const handleChange = (info: { file: UploadFile; fileList: UploadFile[] }) => {\r\n    setFileList(info.fileList.map(file => ({\r\n      ...file,\r\n      formattedSize: formatFileSize(file.size || 0)\r\n    })));\r\n    setIndexReady(false);\r\n  };\r\n\r\n  const handleRemove = () => {\r\n    setFileList([]);\r\n    setUploadedFile(null);\r\n    setIndexReady(false);\r\n  };\r\n\r\n  const handleClearAll = async () => {\r\n    try {\r\n      await axios.delete('http://localhost:8000/delete');\r\n      message.success('All files and index cleared.');\r\n      setFileList([]);\r\n      setUploadedFile(null);\r\n      setIndexReady(false);\r\n    } catch (error) {\r\n      message.error('Failed to clear files/index.');\r\n      console.error('Clear error:', error);\r\n    }\r\n  };\r\n\r\n  const handleUploadAndIndex = async () => {\r\n    if (fileList.length === 0) {\r\n      message.warning('Please select a file first!');\r\n      return;\r\n    }\r\n\r\n    const file = fileList[0];\r\n    const formData = new FormData();\r\n    formData.append('file', file.originFileObj as File);\r\n\r\n    setUploading(true);\r\n\r\n    try {\r\n      const uploadResponse = await axios.post('http://localhost:8000/upload', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n\r\n      if (uploadResponse.data.status === 'success') {\r\n        message.success('File uploaded successfully!');\r\n        setUploadedFile({\r\n          uid: file.uid,\r\n          name: file.name || 'Unknown',\r\n          size: file.size || 0,\r\n          type: file.type || 'Unknown',\r\n          url: uploadResponse.data.file_path,\r\n          formattedSize: formatFileSize(file.size || 0)\r\n        });\r\n\r\n        setIndexing(true);\r\n        try {\r\n          const indexResponse = await axios.post('http://localhost:8000/index');\r\n          if (indexResponse.data.status === 'success') {\r\n            message.success('Document indexed successfully!');\r\n            setIndexReady(true);\r\n          }\r\n        } catch (indexError) {\r\n          message.error('Indexing failed. Please try again.');\r\n          console.error('Indexing error:', indexError);\r\n        } finally {\r\n          setIndexing(false);\r\n        }\r\n      }\r\n    } catch (uploadError) {\r\n      message.error('Upload failed. Please try again.');\r\n      console.error('Upload error:', uploadError);\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const getFileExtension = (filename: string) => {\r\n    return filename.split('.').pop();\r\n  };\r\n\r\n  const formatFileSize = (bytes: number): string => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    const size = (bytes / Math.pow(k, i)).toFixed(2);\r\n    return `${size} ${sizes[i]}`;\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '24px', height: '100%', display: 'flex', flexDirection: 'column', position: 'relative' }}>\r\n      <Title level={3}>Upload Document</Title>\r\n\r\n      {/* ✅ Styled Intro Section */}\r\n      <Paragraph style={{ fontSize: '16px', color: '#595959', maxWidth: 720, marginBottom: 24 }}>\r\n        Welcome! This system allows you to upload your document and automatically index it so you can interact with the content. \r\n        Supported formats include <Text code>.pdf</Text>, <Text code>.doc</Text>, <Text code>.docx</Text>, and <Text code>.txt</Text>. \r\n        Once uploaded and indexed, you'll be able to ask questions about the document in real time.\r\n      </Paragraph>\r\n\r\n      <Upload\r\n        beforeUpload={() => false}\r\n        onChange={handleChange}\r\n        fileList={fileList}\r\n        maxCount={1}\r\n        accept=\".pdf,.doc,.docx,.txt\"\r\n        disabled={uploading || indexing || answerLoading}\r\n        itemRender={(originNode, file) => (\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center',\r\n              padding: '8px',\r\n              border: '1px solid #f0f0f0',\r\n              borderRadius: '4px',\r\n              marginTop: '8px'\r\n            }}\r\n          >\r\n            <div>\r\n              <span>{file.name}</span>\r\n              <Text type=\"secondary\" style={{ marginLeft: 8 }}>\r\n                {(file as any).formattedSize || formatFileSize(file.size || 0)}\r\n              </Text>\r\n            </div>\r\n            <Button\r\n              type=\"text\"\r\n              danger\r\n              size=\"small\"\r\n              onClick={handleRemove}\r\n              disabled={uploading || indexing || uploadedFile !== null || answerLoading}\r\n            >\r\n              Remove\r\n            </Button>\r\n          </div>\r\n        )}\r\n      >\r\n        <Button icon={<UploadOutlined />} disabled={uploading || indexing || answerLoading}>\r\n          Select File\r\n        </Button>\r\n      </Upload>\r\n\r\n      {fileList.length > 0 && !uploadedFile && (\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={handleUploadAndIndex}\r\n          disabled={uploading || indexing || answerLoading}\r\n          loading={uploading}\r\n          style={{ marginTop: 16 }}\r\n        >\r\n          {uploading ? 'Uploading...' : 'Upload & Index'}\r\n        </Button>\r\n      )}\r\n\r\n      {/* ✅ Show only after upload */}\r\n      {uploadedFile && (\r\n        <Button\r\n          danger\r\n          type=\"default\"\r\n          icon={<DeleteOutlined />}\r\n          onClick={handleClearAll}\r\n          disabled={uploading || indexing || answerLoading} // Freeze the button when answer is loading\r\n          style={{ marginTop: 16 }}\r\n        >\r\n          Clear All\r\n        </Button>\r\n      )}\r\n\r\n      {(uploading || indexing) && (\r\n        <div style={{ marginTop: 24, textAlign: 'center' }}>\r\n          <Spin tip={uploading ? 'Uploading your file...' : 'Indexing document...'} size=\"large\">\r\n            <div style={{ padding: '50px', background: 'rgba(0, 0, 0, 0.05)', borderRadius: '4px' }} />\r\n          </Spin>\r\n        </div>\r\n      )}\r\n\r\n      {!uploading && !indexing && uploadedFile && (\r\n        <>\r\n          <Descriptions\r\n            title=\"Uploaded File Details\"\r\n            bordered\r\n            column={1}\r\n            size=\"small\"\r\n            style={{ marginTop: 24 }}\r\n          >\r\n            <Descriptions.Item label=\"File Name\">{uploadedFile.name}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Extension\">\r\n              {getFileExtension(uploadedFile.name)}\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label=\"Type\">{uploadedFile.type}</Descriptions.Item>\r\n            <Descriptions.Item label=\"Size\">\r\n              {uploadedFile.formattedSize}\r\n            </Descriptions.Item>\r\n          </Descriptions>\r\n\r\n          {indexReady && (\r\n            <Alert\r\n              message=\"Ready to chat with your document!\"\r\n              type=\"success\"\r\n              showIcon\r\n              icon={<CheckCircleOutlined />}\r\n              style={{ marginTop: 16 }}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* ✅ Fullscreen overlay when answer is loading */}\r\n      {answerLoading && (\r\n        <div\r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100vw',\r\n            height: '100vh',\r\n            backgroundColor: 'rgba(255, 255, 255, 0.6)',\r\n            zIndex: 9999,\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n          }}\r\n        >\r\n          <Spin tip=\"Loading answer...\" size=\"large\" />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadPage;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,MAAM,EAAEC,MAAM,EAAEC,UAAU,EAAEC,IAAI,EAAEC,YAAY,EAAEC,OAAO,EAAEC,KAAK,QAAQ,MAAM;AACrF,SAASC,cAAc,EAAEC,mBAAmB,EAAEC,cAAc,QAAQ,mBAAmB;AAEvF,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1B,MAAM;EAAEC,KAAK;EAAEC,IAAI;EAAEC;AAAU,CAAC,GAAGf,UAAU;AAE7C,MAAMgB,UAAoB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGtB,QAAQ,CAAe,EAAE,CAAC;EAC1D,MAAM,CAACuB,SAAS,EAAEC,YAAY,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACyB,QAAQ,EAAEC,WAAW,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAAC2B,aAAa,EAAEC,gBAAgB,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;EAC3D,MAAM,CAAC6B,UAAU,EAAEC,aAAa,CAAC,GAAG9B,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAAC+B,YAAY,EAAEC,eAAe,CAAC,GAAGhC,QAAQ,CAOtC,IAAI,CAAC;EAEf,MAAMiC,YAAY,GAAIC,IAAkD,IAAK;IAC3EZ,WAAW,CAACY,IAAI,CAACb,QAAQ,CAACc,GAAG,CAACC,IAAI,KAAK;MACrC,GAAGA,IAAI;MACPC,aAAa,EAAEC,cAAc,CAACF,IAAI,CAACG,IAAI,IAAI,CAAC;IAC9C,CAAC,CAAC,CAAC,CAAC;IACJT,aAAa,CAAC,KAAK,CAAC;EACtB,CAAC;EAED,MAAMU,YAAY,GAAGA,CAAA,KAAM;IACzBlB,WAAW,CAAC,EAAE,CAAC;IACfU,eAAe,CAAC,IAAI,CAAC;IACrBF,aAAa,CAAC,KAAK,CAAC;EACtB,CAAC;EAED,MAAMW,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAM9B,KAAK,CAAC+B,MAAM,CAAC,8BAA8B,CAAC;MAClDpC,OAAO,CAACqC,OAAO,CAAC,8BAA8B,CAAC;MAC/CrB,WAAW,CAAC,EAAE,CAAC;MACfU,eAAe,CAAC,IAAI,CAAC;MACrBF,aAAa,CAAC,KAAK,CAAC;IACtB,CAAC,CAAC,OAAOc,KAAK,EAAE;MACdtC,OAAO,CAACsC,KAAK,CAAC,8BAA8B,CAAC;MAC7CC,OAAO,CAACD,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;IACtC;EACF,CAAC;EAED,MAAME,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,IAAIzB,QAAQ,CAAC0B,MAAM,KAAK,CAAC,EAAE;MACzBzC,OAAO,CAAC0C,OAAO,CAAC,6BAA6B,CAAC;MAC9C;IACF;IAEA,MAAMZ,IAAI,GAAGf,QAAQ,CAAC,CAAC,CAAC;IACxB,MAAM4B,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEf,IAAI,CAACgB,aAAqB,CAAC;IAEnD5B,YAAY,CAAC,IAAI,CAAC;IAElB,IAAI;MACF,MAAM6B,cAAc,GAAG,MAAM1C,KAAK,CAAC2C,IAAI,CAAC,8BAA8B,EAAEL,QAAQ,EAAE;QAChFM,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MAEF,IAAIF,cAAc,CAACG,IAAI,CAACC,MAAM,KAAK,SAAS,EAAE;QAC5CnD,OAAO,CAACqC,OAAO,CAAC,6BAA6B,CAAC;QAC9CX,eAAe,CAAC;UACd0B,GAAG,EAAEtB,IAAI,CAACsB,GAAG;UACbC,IAAI,EAAEvB,IAAI,CAACuB,IAAI,IAAI,SAAS;UAC5BpB,IAAI,EAAEH,IAAI,CAACG,IAAI,IAAI,CAAC;UACpBqB,IAAI,EAAExB,IAAI,CAACwB,IAAI,IAAI,SAAS;UAC5BC,GAAG,EAAER,cAAc,CAACG,IAAI,CAACM,SAAS;UAClCzB,aAAa,EAAEC,cAAc,CAACF,IAAI,CAACG,IAAI,IAAI,CAAC;QAC9C,CAAC,CAAC;QAEFb,WAAW,CAAC,IAAI,CAAC;QACjB,IAAI;UACF,MAAMqC,aAAa,GAAG,MAAMpD,KAAK,CAAC2C,IAAI,CAAC,6BAA6B,CAAC;UACrE,IAAIS,aAAa,CAACP,IAAI,CAACC,MAAM,KAAK,SAAS,EAAE;YAC3CnD,OAAO,CAACqC,OAAO,CAAC,gCAAgC,CAAC;YACjDb,aAAa,CAAC,IAAI,CAAC;UACrB;QACF,CAAC,CAAC,OAAOkC,UAAU,EAAE;UACnB1D,OAAO,CAACsC,KAAK,CAAC,oCAAoC,CAAC;UACnDC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEoB,UAAU,CAAC;QAC9C,CAAC,SAAS;UACRtC,WAAW,CAAC,KAAK,CAAC;QACpB;MACF;IACF,CAAC,CAAC,OAAOuC,WAAW,EAAE;MACpB3D,OAAO,CAACsC,KAAK,CAAC,kCAAkC,CAAC;MACjDC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEqB,WAAW,CAAC;IAC7C,CAAC,SAAS;MACRzC,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,MAAM0C,gBAAgB,GAAIC,QAAgB,IAAK;IAC7C,OAAOA,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC;EAClC,CAAC;EAED,MAAM/B,cAAc,GAAIgC,KAAa,IAAa;IAChD,IAAIA,KAAK,KAAK,CAAC,EAAE,OAAO,SAAS;IACjC,MAAMC,CAAC,GAAG,IAAI;IACd,MAAMC,KAAK,GAAG,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;IAC/C,MAAMC,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,GAAG,CAACN,KAAK,CAAC,GAAGI,IAAI,CAACE,GAAG,CAACL,CAAC,CAAC,CAAC;IACnD,MAAMhC,IAAI,GAAG,CAAC+B,KAAK,GAAGI,IAAI,CAACG,GAAG,CAACN,CAAC,EAAEE,CAAC,CAAC,EAAEK,OAAO,CAAC,CAAC,CAAC;IAChD,OAAO,GAAGvC,IAAI,IAAIiC,KAAK,CAACC,CAAC,CAAC,EAAE;EAC9B,CAAC;EAED,oBACE5D,OAAA;IAAKkE,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,MAAM,EAAE,MAAM;MAAEC,OAAO,EAAE,MAAM;MAAEC,aAAa,EAAE,QAAQ;MAAEC,QAAQ,EAAE;IAAW,CAAE;IAAAC,QAAA,gBAC9GxE,OAAA,CAACG,KAAK;MAACsE,KAAK,EAAE,CAAE;MAAAD,QAAA,EAAC;IAAe;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,eAGxC7E,OAAA,CAACK,SAAS;MAAC6D,KAAK,EAAE;QAAEY,QAAQ,EAAE,MAAM;QAAEC,KAAK,EAAE,SAAS;QAAEC,QAAQ,EAAE,GAAG;QAAEC,YAAY,EAAE;MAAG,CAAE;MAAAT,QAAA,GAAC,qJAE/D,eAAAxE,OAAA,CAACI,IAAI;QAAC8E,IAAI;QAAAV,QAAA,EAAC;MAAI;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,MAAE,eAAA7E,OAAA,CAACI,IAAI;QAAC8E,IAAI;QAAAV,QAAA,EAAC;MAAI;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,MAAE,eAAA7E,OAAA,CAACI,IAAI;QAAC8E,IAAI;QAAAV,QAAA,EAAC;MAAK;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,UAAM,eAAA7E,OAAA,CAACI,IAAI;QAAC8E,IAAI;QAAAV,QAAA,EAAC;MAAI;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,iGAE/H;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAW,CAAC,eAEZ7E,OAAA,CAACZ,MAAM;MACL+F,YAAY,EAAEA,CAAA,KAAM,KAAM;MAC1BC,QAAQ,EAAEhE,YAAa;MACvBZ,QAAQ,EAAEA,QAAS;MACnB6E,QAAQ,EAAE,CAAE;MACZC,MAAM,EAAC,sBAAsB;MAC7BC,QAAQ,EAAE7E,SAAS,IAAIE,QAAQ,IAAIE,aAAc;MACjD0E,UAAU,EAAEA,CAACC,UAAU,EAAElE,IAAI,kBAC3BvB,OAAA;QACEkE,KAAK,EAAE;UACLG,OAAO,EAAE,MAAM;UACfqB,cAAc,EAAE,eAAe;UAC/BC,UAAU,EAAE,QAAQ;UACpBxB,OAAO,EAAE,KAAK;UACdyB,MAAM,EAAE,mBAAmB;UAC3BC,YAAY,EAAE,KAAK;UACnBC,SAAS,EAAE;QACb,CAAE;QAAAtB,QAAA,gBAEFxE,OAAA;UAAAwE,QAAA,gBACExE,OAAA;YAAAwE,QAAA,EAAOjD,IAAI,CAACuB;UAAI;YAAA4B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACxB7E,OAAA,CAACI,IAAI;YAAC2C,IAAI,EAAC,WAAW;YAACmB,KAAK,EAAE;cAAE6B,UAAU,EAAE;YAAE,CAAE;YAAAvB,QAAA,EAC5CjD,IAAI,CAASC,aAAa,IAAIC,cAAc,CAACF,IAAI,CAACG,IAAI,IAAI,CAAC;UAAC;YAAAgD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1D,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC,eACN7E,OAAA,CAACX,MAAM;UACL0D,IAAI,EAAC,MAAM;UACXiD,MAAM;UACNtE,IAAI,EAAC,OAAO;UACZuE,OAAO,EAAEtE,YAAa;UACtB4D,QAAQ,EAAE7E,SAAS,IAAIE,QAAQ,IAAIM,YAAY,KAAK,IAAI,IAAIJ,aAAc;UAAA0D,QAAA,EAC3E;QAED;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACL;MAAAL,QAAA,eAEFxE,OAAA,CAACX,MAAM;QAAC6G,IAAI,eAAElG,OAAA,CAACL,cAAc;UAAA+E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAE;QAACU,QAAQ,EAAE7E,SAAS,IAAIE,QAAQ,IAAIE,aAAc;QAAA0D,QAAA,EAAC;MAEpF;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAERrE,QAAQ,CAAC0B,MAAM,GAAG,CAAC,IAAI,CAAChB,YAAY,iBACnClB,OAAA,CAACX,MAAM;MACL0D,IAAI,EAAC,SAAS;MACdkD,OAAO,EAAEhE,oBAAqB;MAC9BsD,QAAQ,EAAE7E,SAAS,IAAIE,QAAQ,IAAIE,aAAc;MACjDqF,OAAO,EAAEzF,SAAU;MACnBwD,KAAK,EAAE;QAAE4B,SAAS,EAAE;MAAG,CAAE;MAAAtB,QAAA,EAExB9D,SAAS,GAAG,cAAc,GAAG;IAAgB;MAAAgE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxC,CACT,EAGA3D,YAAY,iBACXlB,OAAA,CAACX,MAAM;MACL2G,MAAM;MACNjD,IAAI,EAAC,SAAS;MACdmD,IAAI,eAAElG,OAAA,CAACH,cAAc;QAAA6E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAE;MACzBoB,OAAO,EAAErE,cAAe;MACxB2D,QAAQ,EAAE7E,SAAS,IAAIE,QAAQ,IAAIE,aAAc,CAAC;MAAA;MAClDoD,KAAK,EAAE;QAAE4B,SAAS,EAAE;MAAG,CAAE;MAAAtB,QAAA,EAC1B;IAED;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CACT,EAEA,CAACnE,SAAS,IAAIE,QAAQ,kBACrBZ,OAAA;MAAKkE,KAAK,EAAE;QAAE4B,SAAS,EAAE,EAAE;QAAEM,SAAS,EAAE;MAAS,CAAE;MAAA5B,QAAA,eACjDxE,OAAA,CAACT,IAAI;QAAC8G,GAAG,EAAE3F,SAAS,GAAG,wBAAwB,GAAG,sBAAuB;QAACgB,IAAI,EAAC,OAAO;QAAA8C,QAAA,eACpFxE,OAAA;UAAKkE,KAAK,EAAE;YAAEC,OAAO,EAAE,MAAM;YAAEmC,UAAU,EAAE,qBAAqB;YAAET,YAAY,EAAE;UAAM;QAAE;UAAAnB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CACN,EAEA,CAACnE,SAAS,IAAI,CAACE,QAAQ,IAAIM,YAAY,iBACtClB,OAAA,CAAAE,SAAA;MAAAsE,QAAA,gBACExE,OAAA,CAACR,YAAY;QACX+G,KAAK,EAAC,uBAAuB;QAC7BC,QAAQ;QACRC,MAAM,EAAE,CAAE;QACV/E,IAAI,EAAC,OAAO;QACZwC,KAAK,EAAE;UAAE4B,SAAS,EAAE;QAAG,CAAE;QAAAtB,QAAA,gBAEzBxE,OAAA,CAACR,YAAY,CAACkH,IAAI;UAACC,KAAK,EAAC,WAAW;UAAAnC,QAAA,EAAEtD,YAAY,CAAC4B;QAAI;UAAA4B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAoB,CAAC,eAC5E7E,OAAA,CAACR,YAAY,CAACkH,IAAI;UAACC,KAAK,EAAC,WAAW;UAAAnC,QAAA,EACjCnB,gBAAgB,CAACnC,YAAY,CAAC4B,IAAI;QAAC;UAAA4B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC,eACpB7E,OAAA,CAACR,YAAY,CAACkH,IAAI;UAACC,KAAK,EAAC,MAAM;UAAAnC,QAAA,EAAEtD,YAAY,CAAC6B;QAAI;UAAA2B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAoB,CAAC,eACvE7E,OAAA,CAACR,YAAY,CAACkH,IAAI;UAACC,KAAK,EAAC,MAAM;UAAAnC,QAAA,EAC5BtD,YAAY,CAACM;QAAa;UAAAkD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC,EAEd7D,UAAU,iBACThB,OAAA,CAACN,KAAK;QACJD,OAAO,EAAC,mCAAmC;QAC3CsD,IAAI,EAAC,SAAS;QACd6D,QAAQ;QACRV,IAAI,eAAElG,OAAA,CAACJ,mBAAmB;UAAA8E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAE;QAC9BX,KAAK,EAAE;UAAE4B,SAAS,EAAE;QAAG;MAAE;QAAApB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CACF;IAAA,eACD,CACH,EAGA/D,aAAa,iBACZd,OAAA;MACEkE,KAAK,EAAE;QACLK,QAAQ,EAAE,OAAO;QACjBsC,GAAG,EAAE,CAAC;QACNC,IAAI,EAAE,CAAC;QACPC,KAAK,EAAE,OAAO;QACd3C,MAAM,EAAE,OAAO;QACf4C,eAAe,EAAE,0BAA0B;QAC3CC,MAAM,EAAE,IAAI;QACZ5C,OAAO,EAAE,MAAM;QACfsB,UAAU,EAAE,QAAQ;QACpBD,cAAc,EAAE;MAClB,CAAE;MAAAlB,QAAA,eAEFxE,OAAA,CAACT,IAAI;QAAC8G,GAAG,EAAC,mBAAmB;QAAC3E,IAAI,EAAC;MAAO;QAAAgD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1C,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACtE,EAAA,CAtPID,UAAoB;AAAA4G,EAAA,GAApB5G,UAAoB;AAwP1B,eAAeA,UAAU;AAAC,IAAA4G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}